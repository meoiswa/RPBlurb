<div class="container" *ngIf="character && searchTerm">
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>
        {{ character.user }} @ {{ character.world }}
      </mat-card-title>
      <mat-card-subtitle>
        <ng-container *ngIf="owned; else verify">
          Leave fields empty to hide them.
        </ng-container>
        <ng-template #verify>
          You must validate with XIVAuth to edit this sheet.
        </ng-template>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="text-align-center">
      <div class="form" *ngIf="owned">
        <mat-form-field class="example-form-field">
          <mat-label>Name</mat-label>
          <input matInput type="text" [formControl]="formGroup.controls.name" maxlength=256>
          <button *ngIf="character.name" matSuffix mat-icon-button aria-label="Clear" (click)="character.name=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field class="example-form-field">
          <mat-label>Title</mat-label>
          <input matInput type="text" [formControl]="formGroup.controls.title" maxlength=256>
          <button *ngIf="character.title" matSuffix mat-icon-button aria-label="Clear" (click)="character.title=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field class="example-form-field">
          <mat-label>Alignment</mat-label>
          <input matInput type="text" [formControl]="formGroup.controls.alignment" maxlength=256>
          <button *ngIf="character.alignment" matSuffix mat-icon-button aria-label="Clear"
            (click)="character.alignment=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field class="example-form-field">
          <mat-label>Status</mat-label>
          <input matInput type="text" [formControl]="formGroup.controls.status" maxlength=256>
          <button *ngIf="character.status" matSuffix mat-icon-button aria-label="Clear" (click)="character.status=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <mat-label>Description</mat-label>
          <textarea matInput [formControl]="formGroup.controls.description" maxlength=512></textarea>
          <button *ngIf="character.description" matSuffix mat-icon-button aria-label="Clear"
            (click)="character.description=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" *ngIf="!owned"
        (click)="onVerifyClick()">Verify with XIVAuth</button>
      <button mat-raised-button color="primary" [disabled]="saving || !formGroup.dirty" *ngIf="owned"
        (click)="onSubmitClick()">Submit</button>
    </mat-card-actions>
  </mat-card>
</div>
